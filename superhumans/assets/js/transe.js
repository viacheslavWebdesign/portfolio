!function(t,e,r){var i,n,o,s,a,f,h,c,u,p=r.documentElement,l=r.body,m={},$={inner:e,outer:r,axis:"y",offsetter:"scroll",autoresize:!0,forcesize:!0,easing:function t(e,r,i,n,o){return n*r/o+i},render:function(t,e,r){},beforeRender:function(t,e,r){}},v=function(){var t=r.createElement("div").style;try{t.backgroundColor="rgba(0,0,0,0.6)"}catch(e){}return -1!==t.backgroundColor.indexOf("rgba")}(),y=function(t,e,r){return e>t?t+(e-t)*r:t>e?-(t-e)*(r-1)+e:t},d={val:y,isNode:function(t){return t instanceof Element},getUnit:function(t){return/[0-9]+([^ ,\)]*)(,*)/.exec(t)},getIdent:function(t){return t.split("(")[0]},matrixToArray:function(t){return t.split("(")[1].split(")")[0].split(",")},percentToRange:function(t,e,r){return(r-e)*(t/100+e)}},_=(n=(i=["Webkit","O","Moz","ms"]).length,function(t,e){if(void 0!==t[e])return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),o=e,s=n;s--;)if(void 0!==t[e=i[s]+r])return e;return o}),g=(s=/columnCount|fillOpacity|fontWeight|lineHeight|opacity|order|orphans|widows|zIndex|zoom/i,function(t,r){t[0]||(t=[t]);for(var i,n=0;i=t[n++];){if("string"==typeof r)return(o=e.getComputedStyle?getComputedStyle(i,null):i.currentStyle)[_(o,r)];for(var a in o=i.style,r)o[_(o,a)]=r[a]+(s.test(a)||isNaN(r[a]-0)?"":"px")}}),S=function(t){var e="scroll"+t,r="offset"+t,i="client"+t;return Math.max(l[e],p[e],l[r],p[r],l[i],p[i])},z=function(t){var r="client"+t;return e["inner"+t]||p[r]||l[r]},x={innerSize:{x:function(t){return d.isNode(t)?t.clientWidth:z("Width")},y:function(t){return d.isNode(t)?t.clientHeight:z("Height")}},outerSize:{x:function(t){return d.isNode(t)?t.scrollWidth:S("Width")},y:function(t){return d.isNode(t)?t.scrollHeight:S("Height")}},scroll:{y:function(t){return d.isNode(t)?t.scrollTop:p.scrollTop||l.scrollTop},x:function(t){return d.isNode(t)?t.scrollLeft:p.scrollLeft||l.scrollLeft}},position:{y:function(t){return -1*parseFloat(g(t,"top"))},x:function(t){return -1*parseFloat(g(t,"left"))}},margin:{y:function(t){return -1*parseFloat(g(t,"marginTop"))},x:function(t){return -1*parseFloat(g(t,"marginLeft"))}},transform:{y:function(t){var e=g(t,"transform");return"none"===e&&e?0:-1*d.matrixToArray(e)[5]},x:function(t){var e=g(t,"transform");return"none"===e&&e?0:-1*d.matrixToArray(e)[4]}}},F=function(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&t.attachEvent("on"+e,r)},T=(f=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/,h=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/,c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,u=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/,function(t){return t instanceof Array?t:(a=f.exec(t))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1]:(a=h.exec(t))?[17*parseInt(a[1],16),17*parseInt(a[2],16),17*parseInt(a[3],16),1]:(a=c.exec(t))?[0|a[1],0|a[2],0|a[3],1]:!!(a=u.exec(t))&&[0|a[1],0|a[2],0|a[3],parseFloat(a[4])]}),b=function(t,e){for(var r in e=e||{},t)e[r]=t[r];return e},k=function(t,e){var r,i,n={};for(r in e)for(i in e[r]){var o=g(t,i),s=parseFloat(o);n[i]=s==s?s:o}for(r in e){var a=e[r];for(i in n)i in a?n[i]=a[i]:a[i]=n[i]}return e};function A(t){this.map={},this.options=b(t||{},$),this.inner=d.isNode(this.options.inner)?this.options.inner:l,this.innerSize=x.innerSize[this.options.axis](this.options.outer),this.outerSize=x.outerSize[this.options.axis](this.options.outer),this.outerSize-this.innerSize<this.innerSize&&(this.outerSize=2*this.innerSize)}A.prototype._init=function(){var t,r=this;"scroll"===this.options.offsetter?F(this.options.inner,"scroll",function(){r.scroll()}):function t(){r._getScroll()!==r.scrollOffset&&r.scroll(),setTimeout(t,10)}(),this.scroll();var i=this.options.autoresize;i&&F(e,"resize",function(){clearTimeout(t),t=setTimeout(function(){r.refresh()},"boolean"==typeof i?100:i)})},A.prototype.scroll=function(t){this.scrollOffset=this._getScroll(t);for(var e=this.keys,r=e.length,i=r;--i&&(!(this.scrollOffset>e[i-1])||!(this.scrollOffset<=e[i])););var n=parseFloat(e[i]);for(var o in this.map){var s=this.map[o],a=s.elem,f=s.frames[this.scrollOffset];this.options.beforeRender.call(this,n,a,f),g(a,f),this.options.render.call(this,n,a,f)}},A.prototype.addFrame=function(t){for(var e in t)this._parseFrame(e,t[e],new Date().getTime());return this},A.prototype.refresh=function(){for(var t in this.innerSize=x.innerSize[this.options.axis](this.options.outer),this.outerSize=x.outerSize[this.options.axis](this.options.outer),this._forceSize(),this.map)this._parseFrame(this.map[t].elem,this.map[t].temp,t)},A.prototype.removeById=function(t){delete this.map[t]},A.prototype.removeByNode=function(t){for(var e in this.map)t===this.map[e].elem&&delete this.map[e]},A.prototype.removeByFrame=function(t){for(var e in this.map){var r=this.map[e].temp;for(var i in r)t==i&&delete this.map[e]}},A.prototype.addParser=function(t,e){m[t]=e},m={tmpl:function(t,e,r,i){},color:function(t,e,r,i){if(t.match(/color/i)){e=T(e),r=T(r);var n=[0|y(e[0],r[0],i),0|y(e[1],r[1],i),0|y(e[2],r[2],i)];return v?(n[3]=parseFloat(y(e[3],r[3],i)),"rgba("+n.join()+")"):"rgb("+n.join()+")"}},units:function(t,e,r,i){if(!t.match(/color|transform|clip/i)){for(var n=(e+"").split(" "),o=(r+"").split(" "),s="",a=0,f=n.length;a<f;a++){if(T(n[a])||T(o[a])){s+=this.color("color",n[a],o[a],i)+" ";continue}var h=parseFloat(n[a]),c=d.getUnit(n[a])[1]||"",u=parseFloat(o[a]),p=d.getUnit(o[a])[1]||c||"";f>1&&(p+=" "),s+=y(h,u,i)+p}return s}},transform:function(t,e,r,i){if(t.match(/transform|clip/)){var n=e.split(" "),o=r.split(" "),s="";if(n.length!==o.length)throw"The number of start values and end values does not match";for(var a=0;a<n.length;a++){s+=d.getIdent(n[a])+"(";for(var f=d.matrixToArray(n[a]),h=d.matrixToArray(o[a]),c=0;c<f.length;c++){var u=parseFloat(f[c]),p=d.getUnit(f[c])[1]||"",l=parseFloat(h[c]),m=d.getUnit(h[c])[1]||p||"";s+=y(u,l,i)+m+" "}s+=") "}return s}}},A.prototype._forceSize=function(){if(this.options.forcesize&&this._maxFrame!==this.outerSize-this.innerSize){var t=0|this.keys[this.keys.length-1];(!this._maxFrame||t>this._maxFrame)&&(this._maxFrame=t),this.outerSize=this._maxFrame+this.innerSize,this.inner.style[({y:"height",x:"width"})[this.options.axis]]=this.outerSize+"px"}},A.prototype._getScroll=function(t){return 0|(t||x[this.options.offsetter][this.options.axis](this.options.inner))},A.prototype._setSize=function(){this.innerSize=x.innerSize[this.options.axis](this.options.outer),this.outerSize=x.outerSize[this.options.axis](this.options.outer)},A.prototype._parseFrame=function(t,e,i){t="string"==typeof t?r.querySelectorAll(t):t;var n,o=Object.keys(e),s=o.length;if(!(s<2)){var a=b(e);for(2===s&&e.from&&e.to&&(e[0]=e.from,delete e.from,e[this.outerSize-this.innerSize]=e.to,delete e.to),n=0;n<s;n++){var f=o[n];-1!==f.indexOf("%")&&(e[0|d.percentToRange(parseFloat(f),0,this.outerSize-this.innerSize)]=e[f],delete e[f])}for(o=this.keys=Object.keys(e),this.map[i]||this._forceSize(),e=k(t,e),this.map[i]={elem:t,keyframes:e,temp:a,frames:[]},n=0,index=0;n<this.outerSize;n++)index+1<s&&n>o[index+1]&&index++,this._parseCSS(e,n,index,i);this._init()}},A.prototype._parseCSS=function(e,r,i,n){var o=this.keys,s={};if(s.pos=o[i],s.css=e[s.pos],r<s.pos)return this.map[n].frames[r]=s.css;var a={};if(a.pos=o[i+1],a.css=e[a.pos],!a.css)return this.map[n].frames[r]=s.css;var f=t&&t.easing[this.options.easing]||this.options.easing,h=(r-s.pos)/(a.pos-s.pos),c=Object.keys(s.css),u=c.length;this.map[n].frames[r]={};for(var p=0;p<u;p++){var l=c[p],$=s.css[l],v=a.css[l],y=f(h,1e3*h,0,1,1e3);for(var d in m){var _=m[d](l,$,v,y);if("object"==typeof _){for(var g in _)this.map[n].frames[r][g]=_[g];continue}_&&(y=_)}y==y&&(this.map[n].frames[r][l]=y)}},e.Transe=A,t&&(t.transe=t.fn.transe=function(e,r){var i=new A(r);if(t.transe.refresh=t.proxy(i,"refresh"),this instanceof t)return this.each(function(){i._parseFrame(t(this),e,new Date().getTime())});for(var n in e)i._parseFrame(t(n),e[n],new Date().getTime());return i},t.transe.helpers=d,t.transe.addParser=A.prototype.addParser)}(this.jQuery,this,document),Object.keys=Object.keys||function(t,e){var r=[];for(e in t)r.hasOwnProperty.call(t,e)&&r.push(e);return r};